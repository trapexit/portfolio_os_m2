# @(#) Makefile 96/07/16 1.6

HINCDIRS =		/usr/include /usr/include/sys ${HEADER_DIR} ${HEADER_DIR}/file ${HEADER_DIR}/loader
HDEFINES =		-DSQUIRT_HEADER -DLOAD_FOR_UNIX -D_ALL_SOURCE -DBUILD_PARANOIA

HOST_LINK_LIBS =	tcl

include ${CODEMGR_WS}/ws_root/variables/hostexec
include ${CODEMGR_WS}/ws_root/rules/hostexec

LAYOUT_TCL =		layout.tcl
LAYOUT_TCL_SRC =	${LAYOUT_TCL}
LAYOUT_TCL_BIN =	${HOSTOSBIN}/${LAYOUT_TCL}

FILESYSTEM_H =		filesystem.h
FILESYSTEM_H_SRC =	${SRC}/includes/file/${FILESYSTEM_H}
FILESYSTEM_H_BIN =	${HOSTOSBIN}/${FILESYSTEM_H}

DISCDATA_H =		discdata.h
DISCDATA_H_SRC =	${SRC}/includes/file/${DISCDATA_H}
DISCDATA_H_BIN =	${HOSTOSBIN}/${DISCDATA_H}

SUPPORT_FILES =		${LAYOUT_TCL_BIN} ${FILESYSTEM_H_BIN} ${DISCDATA_H_BIN}

all.post: ${TARGET} ${SUPPORT_FILES}

${LAYOUT_TCL_BIN}: ${LAYOUT_TCL_SRC}
	${CP} ${LAYOUT_TCL_SRC} ${LAYOUT_TCL_BIN}
	${CHMOD} 666 ${LAYOUT_TCL_BIN}

${FILESYSTEM_H_BIN}: ${FILESYSTEM_H_SRC}
	${CP} ${FILESYSTEM_H_SRC} ${FILESYSTEM_H_BIN}
	${CHMOD} 666 ${FILESYSTEM_H_BIN}

${DISCDATA_H_BIN}: ${DISCDATA_H_SRC}
	${CP} ${DISCDATA_H_SRC} ${DISCDATA_H_BIN}
	${CHMOD} 666 ${DISCDATA_H_BIN}

clean.post:
	${RM} ${SUPPORT_FILES}
